<!doctype html>

<html>

<head>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <script type="text/javascript" charset="utf-8" src="./script/flexible.js"></script>
    <title>Hello APP</title>
    <link rel="stylesheet" type="text/css" href="./css/api.css" />
</head>

<body>
    <script type="text/javascript" src="./script/api.js"></script>
    <script type="text/javascript">
        apiready = function() {
            var measure = flexible.rem * flexible.dpr;
            var TabHeight = Math.ceil(100 / 75 * measure);
            var tabH = Math.ceil(120 / 75 * measure);
            var FrameGroupHeight = api.frameHeight - TabHeight;
            // openFrame();
            funIniGroup(FrameGroupHeight);
            funInitFrame(FrameGroupHeight, tabH);
        };

        function openFrame() {
            api.openFrame({
                name: 'test',
                url: './html/iou-record/iou-record.html',
                bounces: true,
                rect: {
                    x: 0,
                    y: 0,
                    w: 'auto',
                    h: 'auto'
                }
            });
        }

        function funInitFrame(FrameGroupHeight, tabH) {
            api.openFrame({
                name: 'tabs',
                url: './html/common/tabs.html',
                rect: {
                    x: 0,
                    y: FrameGroupHeight,
                    w: 'auto',
                    h: tabH
                },
                bounces: false
            });
        }

        function funIniGroup(FrameGroupHeight) {
            var frames = [{
                name: 'home',
                url: './html/home/home.html',
                bgColor: '#eeeff3',
                bounces: false
            }, {
                name: 'credit',
                url: './html/credit/credit.html',
                bgColor: '#eeeff3',
                bounces: false
            }, {
                name: 'mine',
                url: './html/mine/mine.html',
                bgColor: '#eeeff3',
                bounces: false
            }]
            api.openFrameGroup({
                name: 'mainGroup',
                scrollEnabled: false,
                rect: {
                    x: 0,
                    y: 0,
                    w: 'auto',
                    h: FrameGroupHeight
                },
                index: 0,
                frames: frames
            }, function(ret, err) {
                console.log(JSON.stringify(ret));
            });
        }
    </script>
</body>

</html>
