<!DOCTYPE html>
<!-- 底部导航栏 -->
<html>

<head>
    <meta charset="utf-8">
    <!-- <meta name="viewport" content="maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, initial-scale=1.0, width=device-width" /> -->
    <meta name="format-detection" content="telephone=no, email=no, date=no, address=no">
    <meta name="author" content="常振">
    <script type="text/javascript" src="../../script/flexible.js" charset="utf-8"></script>
    <script type="text/javascript" src="../../script/api.js" charset="utf-8"></script>
    <title>底部导航栏</title>
    <link rel="stylesheet" href="../../css/common/common.css">
</head>
<body>
    <footer class="footer" id="footer" v-cloak>
      <div class="footer-item active" onclick="gotoPage(this);">
        <img class="item-img" src="../../image/home/home.png">
        <img class="item-switch" src="../../image/home/home-lose.png">
        <p class="item-name">首页</p>
      </div>
      <div class="footer-item" onclick="gotoPage(this);">
        <img class="item-img" src="../../image/home/credit.png">
        <img class="item-switch" src="../../image/home/credit-lose.png">
        <p class="item-name">认证</p>
      </div>
      <div class="footer-item" onclick="gotoPage(this);">
        <img class="item-img" src="../../image/home/mine.png">
        <img class="item-switch" src="../../image/home/mine-lose.png">
        <p class="item-name">我的</p>
      </div>
    </footer>
    <script type="text/javascript">
      apiready = function () {
        var footer = $api.byId('footer');
        var measure = flexible.rem * flexible.dpr;
        var TabHeight = Math.ceil(100 / 75 * measure);
        var FrameGroupHeight = api.frameHeight - TabHeight;
        $api.css(footer, 'height:' + TabHeight + 'px');

      }
      // 点击导航栏切换状态
      function gotoPage(tag) {
          if (tag == $api.dom('#footer div.active')) return;
          var navItem = $api.domAll('.footer-item');
          index = 0;
          for (var i = 0, len = navItem.length; i < len; i++) {
              if (tag == navItem[i]) {
                  index = i;
              } else {
                  $api.removeCls(navItem[i], 'active');
              }
          }
          $api.addCls(navItem[index], 'active');
          api.setFrameGroupIndex({
              name: 'mainGroup',
              index: index
          });
      }
    </script>
</body>

</html>
